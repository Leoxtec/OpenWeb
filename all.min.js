function createShader(a,b,c){var d=a.createShader(c);if(a.shaderSource(d,b),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS))throw a.getShaderInfoLog(d);return d}function createProgram(a,b,c){var d=a.createProgram(),e=createShader(a,b,a.VERTEX_SHADER),f=createShader(a,c,a.FRAGMENT_SHADER);if(a.attachShader(d,e),a.attachShader(d,f),a.linkProgram(d),!a.getProgramParameter(d,a.LINK_STATUS))throw a.getProgramInfoLog(d);return d}function screenQuad(a){var b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b);var c=[-1,-1,1,-1,-1,1,1,1];return a.bufferData(a.ARRAY_BUFFER,new Float32Array(c),a.STATIC_DRAW),b.itemSize=2,b.numItems=4,b}
function loadFile(a,b,c,d){var e=new XMLHttpRequest;e.onreadystatechange=function()
{if(1==e.readyState)d&&e.overrideMimeType("application/json"),e.send();else if(4==e.readyState)
{if(200!=e.status)throw 404==e.status?'File "'+a+'" does not exist.':"XHR error "+e.status+".";b(e.responseText)}};
var f=(href("ldr100915_173745_1_i08.las"));c&&(f+="?"+(new Date).getTime()),e.open("GET",f,!0)}function a16_1(a){if(that=this,this.z2=function(){},
this.blob=null,null==a){if(this.files=document.getElementById("files").files,!this.files.length)return alert("Please select a file!"),void 0;
this.file=this.files[0]}else this.file=a;this.reader=new FileReader,
this.reader.onloadend=function(a){a.target.readyState==FileReader.DONE&&that.z2(a.target.result)}}function a12(a){this.b8=new a10(a,a12.structure),
this.w2=this.b8.parse("content")}function a13(a){this.b8=new a10(a,a13.structure),this.w2=this.b8.parse("data")}function a14(a){this.b8=new a10(a,a14.structure),this.w2=this.b8.parse("data")}function a15(a){this.b8=new a10(a,a15.structure),this.w2=this.b8.parse("data")}function a16(a){this.b8=new a10(a,a16.structure),this.w2=this.b8.parse("data")}function createRotationX(a){var b=new a8,c=Math.sin(a),d=Math.cos(a);return b.o0=1,b.o2=0,b.o3=0,b.p3=0,b.o1=0,b.p9=d,b.p6=c,b.p2=0,b.o5=0,b.p8=-c,b.p5=d,b.o4=0,b.o6=0,b.p7=0,b.p4=0,b.p1=1,b}function createRotationY(a){var b=new a8,c=Math.sin(a),d=Math.cos(a);return b.o0=d,b.o2=0,b.o3=-c,b.p3=0,b.o1=0,b.p9=1,b.p6=0,b.p2=0,b.o5=c,b.p8=0,b.p5=d,b.o4=0,b.o6=0,b.p7=0,b.p4=0,b.p1=1,b}function createRotationZ(a){var b=new a8,c=Math.sin(a),d=Math.cos(a);return b.o0=d,b.o2=c,b.o3=0,b.p3=0,b.o1=-c,b.p9=d,b.p6=0,b.p2=0,b.o5=0,b.p8=0,b.p5=1,b.o4=0,b.o6=0,b.p7=0,b.p4=0,b.p1=1,b}function fixit(a){return Math.round(1e3*a)/1e3}function fixmat(a){return a.o0=fixit(a.o0),a.o2=fixit(a.o2),a.o3=fixit(a.o3),a.p3=fixit(a.p3),a.o1=fixit(a.o1),a.p9=fixit(a.p9),a.p6=fixit(a.p6),a.p2=fixit(a.p2),a.o5=fixit(a.o5),a.p8=fixit(a.p8),a.p5=fixit(a.p5),a.o4=fixit(a.o4),a.o6=fixit(a.o6),a.p7=fixit(a.p7),a.p4=fixit(a.p4),a.p1=fixit(a.p1),a}function fixme(a){return Math.round(10*a)/10}function dateToYMD(a){var b=a.getDate(),c=a.getMonth()+1,d=a.getFullYear();return""+d+"-"+(9>=c?"0"+c:c)+"-"+(9>=b?"0"+b:b)}function padStr(a){return 10>a?"0"+a:""+a}function t9(a){var b=padStr(a.getFullYear())+"."+padStr(1+a.getMonth())+"."+padStr(a.getDate())+" "+padStr(a.getHours())+":"+padStr(a.getMinutes())+":"+padStr(a.getSeconds());return b}function interpolate(a,b,c,d,e){return(a-c)*(d-b)/(e-c)+b}function base(a){return-.75>=a?0:-.25>=a?interpolate(a,0,-.75,1,-.25):.25>=a?1:.75>=a?interpolate(a,1,.25,0,.75):0}function Gett5(a){return base(a+.5)}function Gett6(a){return base(a)}function Gett7(a){return base(a-.5)}function ab2str(a){return String.fromCharCode.apply(null,new Uint16Array(a))}function str2ab(a){for(var b=new ArrayBuffer(2*a.length),c=new Uint16Array(b),d=0,e=a.length;e>d;d++)c[d]=a.charCodeAt(d);return b}function GetFileSize(a){return a>1048576?(a=a/1024/1024,a=Math.round(10*a)/10,a.toString(10)+"MB"):a>1024?(a/=1024,a=Math.round(10*a)/10,a.toString(10)+"KB"):void 0}function OnAnimation(){!x6||v2||b2||(a563.a48().a16_4a42()>4e3?a563.w5(a563.a48().a16_4a40(),a563.a48().a16_4a41(),a563.a48().a16_4a42()-4e3+dSpeed):a563.w5(a563.a48().a16_4a40(),a563.a48().a16_4a41(),a563.a48().a16_4a42()+dSpeed))}function a116(a){if(a59=new a16_1(a),a59.file){var b=document.getElementById("HeaderTable"),c=new a3(b,x7,a59);a59.a3=c,a59.n7z2(c.z2),a59.a49(0,409600),delete a59}}function ReadHeaderAndLoad(a){if(a59=new a16_1(a),a59.file){var b=document.getElementById("HeaderTable"),c=new a3(b,x7,a59);a59.a3=c,a59.n7z2(c.z2),a59.a49(0,409600),delete a59}}function m0216(){var a=0,b=urlParams.url;if(b){b=decodeURIComponent(b),-1==b.indexOf("http://")&&-1==b.indexOf("file://")&&(b="http://"+b);var c=new XMLHttpRequest;c.open("GET",b),c.responseType="blob",c.onprogress=function(b){if($("#spinner").show(),b.lengthComputable){var c=100*b.loaded/b.total,d=Math.round(1e3*c)/1e3+"%";a16_3LoadingProgBar.style.width=d+"%",$("#percents_loaded").text(d)}else $("#percents_loaded").text("size unknown");a=b.total},c.onload=function(){$("#spinner").hide();var c=this.response;a351.Clear(),a59=new a16_1(c),a59.file.size=a;var d=document.getElementById("HeaderTable"),e=new a3(d,x7,a59);e.a59=a59,a59.a3=e;var f="Started: "+t9(new Date);_gaq.push(["_trackEvent","Render","Start",f]),a16_3ProgBarDiv.visible=!0,a16_3ProgBarDiv.className="loading";var g=document.getElementById("bufsize").value,h=new a1(g),i=null;
var frmt = a16_3Format.value;
if (b.indexOf(".las") > -1){frmt = 1;}
else{frmt = 0;}
if(1==frmt)var i=new a17(a59,x7,x8,z1,x9,h);else var i=new XYZa17(a59,x7,x8,z1,x9,h);
var j=function(a){a59.a3.a3=a59.a3,a59.a3.z2(a),a59.n7z2(i.ParseHeader),a59.a49(0,409600)};a59.a17=i,a59.n7z2(j),a59.a49(0,409600)},c.send()}}function a50(){$("#spinner").hide(),a51.w1(1.2,1.8),a51.a35.a21=b9.a21,a51.a35.a20=b9.a20,a51.a35.a19=b9.a19,a51.a35.Pointa34=b9.Pointa34,a51.a35.a24=b9.a24,a51.a35.a26=b9.a26,a51.a35.a28=b9.a28,a51.a35.a25=b9.a25,a51.a35.a27=b9.a27,a51.a35.a29=b9.a29,a51.a35.a22=b9.a22,a51.a35.a22=b9.a23,a51.a35.a30=b9.a30,a51.a16_4a35().a45Colors(),a51.a16_4a35().t2(6),a551.n7a35(a51.a16_4a35()),a551.n7a39w3(a51.a16_4a35().a16_4a24(),a51.a16_4a35().a16_4a25(),a51.a16_4a35().a16_4a26(),a51.a16_4a35().a16_4a27(),a51.a16_4a35().a16_4a28(),a51.a16_4a35().a16_4a29()),a551.w4(a641.value),a552.n7a35(a51.a16_4a35()),a552.n7a39w3(a51.a16_4a35().a16_4a24(),a51.a16_4a35().a16_4a25(),a51.a16_4a35().a16_4a26(),a51.a16_4a35().a16_4a27(),a51.a16_4a35().a16_4a28(),a51.a16_4a35().a16_4a29()),a552.w4(a642.value),a553.n7a35(a51.a16_4a35()),a553.n7a39w3(a51.a16_4a35().a16_4a24(),a51.a16_4a35().a16_4a25(),a51.a16_4a35().a16_4a26(),a51.a16_4a35().a16_4a27(),a51.a16_4a35().a16_4a28(),a51.a16_4a35().a16_4a29()),a553.w4(a643.value),a561.a48().n7a55(a551),a561.a45(a52),a562.a48().n7a55(a552),a562.a45(a53),a563.a48().n7a55(a553),a563.a45(a54),a561.w5(0,0,0),a561.n7a025(2),a561.w7(10),a562.w5(-1.5708,0,0),a562.n7a025(2),a562.w7(10),a563.w5(3.1416*(-66/180),0,0),a563.n7a025(1),a563.n7x4(0,-1.5),a563.w7(16),a551.t1(),a552.t1(),a553.t1(),a16_3ProgBarDiv.visible=!1,setInterval(OnAnimation,80),m0216()}function z1(a){a16_3ProgBarDiv.visible=!0,v2=!0,a351.t2(a633.value),a551.n7a35(a351),a551.n7a39w3(a351.a16_4a24(),a351.a16_4a25(),a351.a16_4a26(),a351.a16_4a27(),a351.a16_4a28(),a351.a16_4a29()),a551.t1(),a551.t5raw(),a552.n7a35(a351),a552.n7a39w3(a351.a16_4a24(),a351.a16_4a25(),a351.a16_4a26(),a351.a16_4a27(),a351.a16_4a28(),a351.a16_4a29()),a552.t1(),a552.t5raw(),a553.n7a35(a351),a553.n7a39w3(a351.a16_4a24(),a351.a16_4a25(),a351.a16_4a26(),a351.a16_4a27(),a351.a16_4a28(),a351.a16_4a29()),a553.t1(),a553.t5raw();var b=a.z8();a16_3ProgBar.style.width=b+"%",a16_3ProgBar.textContent=b+"%"}function x8(a){ if (a.w2.Z!=-999999){a351.a47(a.w2.X,a.w2.Y,a.w2.Z,a.w2.t3,a.w2.t4),null!=a.w2.t5&&a351.n7Pointa34(a.w2.t5,a.w2.t6,a.w2.t7)}}function x7(a){var b="Ended: "+t9(new Date);_gaq.push(["_trackEvent","Header","End",b]),a&&a.w2&&(a51.w1((a.w2.a60.a27-a.w2.a60.a26)/(a.w2.a60.a25-a.w2.a60.a24),(a.w2.a60.a29-a.w2.a60.a28)/(a.w2.a60.a25-a.w2.a60.a24)),a51.a16_4a35().a45Colors(),a51.a16_4a35().t2(a633.value),a551.n7a35(a51.a16_4a35()),a551.n7a39w3(a51.a16_4a35().a16_4a24(),a51.a16_4a35().a16_4a25(),a51.a16_4a35().a16_4a26(),a51.a16_4a35().a16_4a27(),a51.a16_4a35().a16_4a28(),a51.a16_4a35().a16_4a29()),a551.t1(),a551.t5raw(),a552.n7a35(a51.a16_4a35()),a552.n7a39w3(a51.a16_4a35().a16_4a24(),a51.a16_4a35().a16_4a25(),a51.a16_4a35().a16_4a26(),a51.a16_4a35().a16_4a27(),a51.a16_4a35().a16_4a28(),a51.a16_4a35().a16_4a29()),a552.t1(),a552.t5raw(),a553.n7a35(a51.a16_4a35()),a553.n7a39w3(a51.a16_4a35().a16_4a24(),a51.a16_4a35().a16_4a25(),a51.a16_4a35().a16_4a26(),a51.a16_4a35().a16_4a27(),a51.a16_4a35().a16_4a28(),a51.a16_4a35().a16_4a29()),a553.t1(),a553.t5raw())}function x9(){var c="Ended: "+t9(new Date);_gaq.push(["_trackEvent","Render","End",c]),v2=!1,a351.a45Colors(),a351.t2(a633.value),a551.n7a35(a351),a551.n7a39w3(a351.a16_4a24(),a351.a16_4a25(),a351.a16_4a26(),a351.a16_4a27(),a351.a16_4a28(),a351.a16_4a29()),a551.w4(a643.value),a551.t1(),a552.n7a35(a351),a552.n7a39w3(a351.a16_4a24(),a351.a16_4a25(),a351.a16_4a26(),a351.a16_4a27(),a351.a16_4a28(),a351.a16_4a29()),a552.t1(),a553.n7a35(a351),a553.n7a39w3(a351.a16_4a24(),a351.a16_4a25(),a351.a16_4a26(),a351.a16_4a27(),a351.a16_4a28(),a351.a16_4a29()),a553.t1(),a16_3ProgBar.style.width="100%",a16_3ProgBar.textContent="100%"}!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelRequestAnimationFrame=window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a){var b={ArrayBuffer:"undefined"!=typeof ArrayBuffer,DataView:"undefined"!=typeof DataView&&"getFloat64"in DataView.prototype,NodeBuffer:"undefined"!=typeof Buffer,NodeBufferFull:"undefined"!=typeof Buffer&&"readInt8LE"in Buffer,NodeBufferEndian:"undefined"!=typeof Buffer&&"readInt8"in Buffer},c=function(a,c,d,e){if(!(this instanceof arguments.callee))throw new Error("a9 constructor may not be called as a function");if(this.buffer=a,!(b.NodeBuffer&&a instanceof Buffer||b.ArrayBuffer&&a instanceof ArrayBuffer||"string"==typeof a))throw new TypeError("a9 buffer has an incompatible type");this._isArrayBuffer=b.ArrayBuffer&&a instanceof ArrayBuffer,this._isDataView=b.DataView&&this._isArrayBuffer,this._isNodeBuffer=b.NodeBuffer&&a instanceof Buffer,this._littleEndian=void 0===e?!0:e;var f=this._isArrayBuffer?a.byteLength:a.length;if(void 0===c&&(c=0),this.bytex4=c,void 0===d&&(d=f-c),this.byteLength=d,!this._isDataView){if("number"!=typeof c)throw new TypeError("a9 bytex4 is not a number");if("number"!=typeof d)throw new TypeError("a9 byteLength is not a number");if(0>typeof c)throw new Error("a9 bytex4 is negative");if(0>typeof d)throw new Error("a9 byteLength is negative")}this._isDataView&&(this._view=new DataView(a,c,d),this._start=0),this._start=c,this._offset=0};c.createBuffer=function(){if(b.NodeBuffer){for(var a=new Buffer(arguments.length),c=0;c<arguments.length;++c)a[c]=arguments[c];return a}if(b.ArrayBuffer){for(var a=new ArrayBuffer(arguments.length),d=new Int8Array(a),c=0;c<arguments.length;++c)d[c]=arguments[c];return a}return String.fromCharCode.apply(null,arguments)},c.prototype={getString:function(a,b){var c;if(void 0===b&&(b=this._offset),"number"!=typeof b)throw new TypeError("a9 bytex4 is not a number");if(0>a||b+a>this.byteLength)throw new Error("a9 length or (bytex4+length) value is out of bounds");if(this._isNodeBuffer)c=this.buffer.toString("ascii",this._start+b,this._start+b+a);else{c="";for(var d=0;a>d;++d){var e=this.getUint8(b+d);c+=String.fromCharCode(e>127?65533:e)}}return this._offset=b+a,c},getChar:function(a){return this.getString(1,a)},tell:function(){return this._offset},seek:function(a){if("number"!=typeof a)throw new TypeError("a9 bytex4 is not a number");if(0>a||a>this.byteLength)throw new Error("a9 bytex4 value is out of bounds");return this._offset=a},_endianness:function(a,b,c,d){return a+(d?c-b-1:b)},_getFloat64:function(a,b){var c=this._getUint8(this._endianness(a,0,8,b)),d=this._getUint8(this._endianness(a,1,8,b)),e=this._getUint8(this._endianness(a,2,8,b)),f=this._getUint8(this._endianness(a,3,8,b)),g=this._getUint8(this._endianness(a,4,8,b)),h=this._getUint8(this._endianness(a,5,8,b)),i=this._getUint8(this._endianness(a,6,8,b)),j=this._getUint8(this._endianness(a,7,8,b)),k=1-2*(c>>7),l=((255&c<<1)<<3|d>>4)-(Math.pow(2,10)-1),m=(15&d)*Math.pow(2,48)+e*Math.pow(2,40)+f*Math.pow(2,32)+g*Math.pow(2,24)+h*Math.pow(2,16)+i*Math.pow(2,8)+j;return 1024===l?0!==m?0/0:1/0*k:-1023===l?k*m*Math.pow(2,-1074):k*(1+m*Math.pow(2,-52))*Math.pow(2,l)},_getFloat32:function(a,b){var c=this._getUint8(this._endianness(a,0,4,b)),d=this._getUint8(this._endianness(a,1,4,b)),e=this._getUint8(this._endianness(a,2,4,b)),f=this._getUint8(this._endianness(a,3,4,b)),g=1-2*(c>>7),h=(255&c<<1|d>>7)-127,i=(127&d)<<16|e<<8|f;return 128===h?0!==i?0/0:1/0*g:-127===h?g*i*Math.pow(2,-149):g*(1+i*Math.pow(2,-23))*Math.pow(2,h)},_getInt32:function(a,b){var c=this._getUint32(a,b);return c>Math.pow(2,31)-1?c-Math.pow(2,32):c},_getUint32:function(a,b){var c=this._getUint8(this._endianness(a,0,4,b)),d=this._getUint8(this._endianness(a,1,4,b)),e=this._getUint8(this._endianness(a,2,4,b)),f=this._getUint8(this._endianness(a,3,4,b));return c*Math.pow(2,24)+(d<<16)+(e<<8)+f},_getInt16:function(a,b){var c=this._getUint16(a,b);return c>Math.pow(2,15)-1?c-Math.pow(2,16):c},_getUint16:function(a,b){var c=this._getUint8(this._endianness(a,0,2,b)),d=this._getUint8(this._endianness(a,1,2,b));return(c<<8)+d},_getInt8:function(a){var b=this._getUint8(a);return b>Math.pow(2,7)-1?b-Math.pow(2,8):b},_getUint8:function(a){return this._isArrayBuffer?new Uint8Array(this.buffer,a,1)[0]:this._isNodeBuffer?this.buffer[a]:255&this.buffer.charCodeAt(a)}};var d={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8},e={Int8:"Int8",Int16:"Int16",Int32:"Int32",Uint8:"UInt8",Uint16:"UInt16",Uint32:"UInt32",Float32:"Float",Float64:"Double"};for(var f in d)d.hasOwnProperty(f)&&function(a){var f=d[a];c.prototype["get"+a]=function(c,d){var g;if(void 0===d&&(d=this._littleEndian),void 0===c&&(c=this._offset),this._isDataView)g=this._view["get"+a](c,d);else if(this._isArrayBuffer&&0===(this._start+c)%f&&(1===f||d))g=new all[a+"Array"](this.buffer,this._start+c,1)[0];else if(this._isNodeBuffer&&b.NodeBufferFull)g=d?this.buffer["read"+e[a]+"LE"](this._start+c):this.buffer["read"+e[a]+"BE"](this._start+c);else if(this._isNodeBuffer&&b.NodeBufferEndian)g=this.buffer["read"+e[a]](this._start+c,d);else{if("number"!=typeof c)throw new TypeError("a9 bytex4 is not a number");if(c+f>this.byteLength)throw new Error("a9 (bytex4+size) value is out of bounds: offset: "+c+" size:"+f+"length: "+this.byteLength);g=this["_get"+a](this._start+c,d)}return this._offset=c+f,g}}(f);if("undefined"!=typeof jQuery&&jQuery.fn.jquery>="1.6.2"){var g=function(a){var b;try{b=IEBinaryToArray_ByteStr(a)}catch(c){var d="Function IEBinaryToArray_ByteStr(Binary)\r\n	IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n	Dim lastIndex\r\n	lastIndex = LenB(Binary)\r\n	if lastIndex mod 2 Then\r\n		IEBinaryToArray_ByteStr_Last = AscB( MidB( Binary, lastIndex, 1 ) )\r\n	Else\r\n		IEBinaryToArray_ByteStr_Last = -1\r\n	End If\r\nEnd Function\r\n";window.execScript(d,"vbscript"),b=IEBinaryToArray_ByteStr(a)}for(var i,e=IEBinaryToArray_ByteStr_Last(a),f="",g=0,h=b.length%8;h>g;)i=b.charCodeAt(g++),f+=String.fromCharCode(255&i,i>>8);for(h=b.length;h>g;)f+=String.fromCharCode((i=b.charCodeAt(g++),255&i),i>>8,(i=b.charCodeAt(g++),255&i),i>>8,(i=b.charCodeAt(g++),255&i),i>>8,(i=b.charCodeAt(g++),255&i),i>>8,(i=b.charCodeAt(g++),255&i),i>>8,(i=b.charCodeAt(g++),255&i),i>>8,(i=b.charCodeAt(g++),255&i),i>>8,(i=b.charCodeAt(g++),255&i),i>>8);return e>-1&&(f+=String.fromCharCode(e)),f};jQuery.ajaxSetup({converters:{"* dataview":function(a){return new c(a)}},accepts:{dataview:"text/plain; charset=x-user-defined"},responseHandler:{dataview:function(a,b,c){a.text="mozResponseArrayBuffer"in c?c.mozResponseArrayBuffer:"responseType"in c&&"arraybuffer"===c.responseType&&c.response?c.response:"responseBody"in c?g(c.responseBody):c.responseText}}}),jQuery.ajaxPrefilter("dataview",function(a){jQuery.support.ajaxResponseType&&(a.hasOwnProperty("xhrFields")||(a.xhrFields={}),a.xhrFields.responseType="arraybuffer"),a.mimeType="text/plain; charset=x-user-defined"})}a.a9=(a.module||{}).exports=c,"undefined"!=typeof module&&(module.exports=c)}(this),function(){function b(c,d){if(!(this instanceof arguments.callee))throw new Error("Constructor may not be called as a function");c instanceof a9||(c=new a9(c)),this.view=c,this.view.seek(0),this.structure=a({},b.prototype.structure,d)}function c(a){return"function"==typeof a&&(a=a.call(this)),a}"undefined"==typeof a9&&"undefined"!=typeof require&&(a9=require("a9"));var a=function(a){for(var b=1;b<arguments.length;++b){var c=arguments[b];for(var d in c)void 0!==c[d]&&(a[d]=c[d])}return a};b.prototype.structure={uint8:function(){return this.view.getUint8()},uint16:function(){return this.view.getUint16()},uint32:function(){return this.view.getUint32()},int8:function(){return this.view.getInt8()},int16:function(){return this.view.getInt16()},int32:function(){return this.view.getInt32()},float32:function(){return this.view.getFloat32()},float64:function(){return this.view.getFloat64()},"char":function(){return this.view.getChar()},string:function(a){return this.view.getString(c.call(this,a))},array:function(a,b){b=c.call(this,b);for(var d=[],e=0;b>e;++e)d.push(this.parse(a));return d},seek:function(a,b){if(a=c.call(this,a),b instanceof Function){var d=this.view.tell();this.view.seek(a);var e=b.call(this);return this.view.seek(d),e}return this.view.seek(a)},tell:function(){return this.view.tell()},skip:function(a){return a=c.call(this,a),this.view.seek(this.view.tell()+a),a}},b.prototype.seek=b.prototype.structure.seek,b.prototype.tell=b.prototype.structure.tell,b.prototype.skip=b.prototype.structure.skip,b.prototype.parse=function(a){if(a instanceof Function)return a.apply(this,Array.prototype.slice.call(arguments,1));if("string"==typeof a&&(a=[a]),a instanceof Array){var b=a[0];if(!(b in this.structure))throw new Error("Missing structure for `"+b+"`");return this.parse.apply(this,[this.structure[b]].concat(a.slice(1)))}if("object"==typeof a){var c={};for(var b in a)this.current=c,c[b]=this.parse(a[b]);return c}throw new Error("Unknown structure type `"+a+"`")};var d;"undefined"!=typeof self?d=self:"undefined"!=typeof window?d=window:"undefined"!=typeof global&&(d=global),d.a10=b,"undefined"!=typeof module&&(module.exports=b)}(),a16_1.prototype.n7z2=function(a){delete this.z2,this.z2=null,this.z2=a},a16_1.prototype.a49=function(a,b){delete this.blob,this.blob=null,this.file.slice?this.blob=this.file.slice(a,b):this.file.mozSlice&&(this.blob=this.file.mozSlice(a,b)),this.reader.readAsBinaryString(this.blob)},a12.prototype.print=function(){var a={};if(a["System ID"]=this.w2.a60.SystemID,a["Software ID"]=this.w2.a60.SoftwareID,0!=this.w2.a60.FileCreatedYear){var b=new Date(this.w2.a60.FileCreatedYear,0);b.setDate(this.w2.a60.FileCreatedDayOfYear),a.Date=dateToYMD(b)}else a.Date="not set";return a["Total number of points"]=this.w2.a60.x1a58,a["1st return"]=this.w2.a60.x1a58ByReturn1,a["2st return"]=this.w2.a60.x1a58ByReturn2,a["3st return"]=this.w2.a60.x1a58ByReturn3,a["4st return"]=this.w2.a60.x1a58ByReturn4,a["5st return"]=this.w2.a60.x1a58ByReturn5,a["Extent X: "]=""+this.w2.a60.a24.toFixed(2)+" : "+this.w2.a60.a25.toFixed(2),a["Extent Y: "]=""+this.w2.a60.a26.toFixed(2)+" : "+this.w2.a60.a27.toFixed(2),a["Extent Z: "]=""+this.w2.a60.a28.toFixed(2)+" : "+this.w2.a60.a29.toFixed(2),a["Number of VLRs"]=this.w2.a60.x1VLR,a},a12.structure={FileHeader:{Signature:function(){var a=this.parse(["string",4]);if("LASF"!=a)throw new TypeError("This file is not LAS 1.2 compatible.");return a},FileSourceID:"uint16",GlobalEncoding:"uint16",ProjectID_GUID1:"uint32",ProjectID_GUID2:"uint16",ProjectID_GUID3:"uint16",ProjectID_GUID4:["array","uint8",8],VersionMajor:"uint8",VersionMinor:"uint8",SystemID:function(){return this.parse(["string",32]).replace(/\0+$/,"")},SoftwareID:function(){return this.parse(["string",32]).replace(/\0+$/,"")},FileCreatedDayOfYear:"uint16",FileCreatedYear:"uint16",HeaderSize:"uint16",x4ToPointData:"uint32",x1VLR:"uint32",x2:"uint8",x3:"uint16",x1a58:"uint32",x1a58ByReturn1:"uint32",x1a58ByReturn2:"uint32",x1a58ByReturn3:"uint32",x1a58ByReturn4:"uint32",x1a58ByReturn5:"uint32",x5X:"float64",x5Y:"float64",x5Z:"float64",x4X:"float64",x4Y:"float64",x4Z:"float64",a25:"float64",a24:"float64",a27:"float64",a26:"float64",a29:"float64",a28:"float64"},VLRHeader:{Reserved:"uint16",UserID:function(){return this.parse(["string",16])},RecordID:"uint16",RecLenAfterHeader:"uint16",Description:function(){return this.parse(["string",32])},Data:["array","uint8",function(){return this.current.RecLenAfterHeader}]},content:{a60:"FileHeader",VLRHeaders:["array","VLRHeader",function(){return this.current.a60.x1VLR}]}},a13.structure={data:{X:"int32",Y:"int32",Z:"int32",t3:"uint16",ReturnInfo:"uint8",t4:"uint8",ScanAngleRank:"uint8",UserData:"uint8",PointSourceID:"uint16"}},a14.structure={data:{X:"int32",Y:"int32",Z:"int32",t3:"uint16",ReturnInfo:"uint8",t4:"uint8",ScanAngleRank:"uint8",UserData:"uint8",PointSourceID:"uint16",GPSTime:"float64"}},a15.structure={data:{X:"int32",Y:"int32",Z:"int32",t3:"uint16",ReturnInfo:"uint8",t4:"uint8",ScanAngleRank:"uint8",UserData:"uint8",PointSourceID:"uint16",t5:"uint16",t6:"uint16",t7:"uint16"}},a16.structure={data:{X:"int32",Y:"int32",Z:"int32",t3:"uint16",ReturnInfo:"uint8",t4:"uint8",ScanAngleRank:"uint8",UserData:"uint8",PointSourceID:"uint16",GPSTime:"float64",t5:"uint16",t6:"uint16",t7:"uint16"}},a8=function(a){if("object"==typeof a){if("length"in a&&a.length>=16)return this.load(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]),void 0;if(a instanceof a8)return this.load(a),void 0}this.makeIdentity()},a8.prototype.set=function(a,b,c,d){this.o0=a.x,this.o1=a.y,this.o5=a.z,this.o6=0,this.o2=b.x,this.p9=b.y,this.p8=b.z,this.p7=0,this.o3=c.x,this.p6=c.y,this.p5=c.z,this.p4=0,this.p3=d.x,this.p2=d.y,this.o4=d.z,this.p1=1},a8.prototype.load=function(){if(1==arguments.length&&"object"==typeof arguments[0]){var a=arguments[0];if("length"in a&&16==a.length)return this.o0=a[0],this.o1=a[1],this.o5=a[2],this.o6=a[3],this.o2=a[4],this.p9=a[5],this.p8=a[6],this.p7=a[7],this.o3=a[8],this.p6=a[9],this.p5=a[10],this.p4=a[11],this.p3=a[12],this.p2=a[13],this.o4=a[14],this.p1=a[15],void 0;if(arguments[0]instanceof a8)return this.o0=a.o0,this.o1=a.o1,this.o5=a.o5,this.o6=a.o6,this.o2=a.o2,this.p9=a.p9,this.p8=a.p8,this.p7=a.p7,this.o3=a.o3,this.p6=a.p6,this.p5=a.p5,this.p4=a.p4,this.p3=a.p3,this.p2=a.p2,this.o4=a.o4,this.p1=a.p1,void 0}this.makeIdentity()},a8.prototype.getAsArray=function(){return[this.o0,this.o1,this.o5,this.o6,this.o2,this.p9,this.p8,this.p7,this.o3,this.p6,this.p5,this.p4,this.p3,this.p2,this.o4,this.p1]},a8.prototype.getAsWebGLFloatArray=function(){return new Float32Array(this.getAsArray())},a8.prototype.makeIdentity=function(){this.o0=1,this.o1=0,this.o5=0,this.o6=0,this.o2=0,this.p9=1,this.p8=0,this.p7=0,this.o3=0,this.p6=0,this.p5=1,this.p4=0,this.p3=0,this.p2=0,this.o4=0,this.p1=1},a8.prototype.transpose=function(){var a=this.o1;this.o1=this.o2,this.o2=a,a=this.o5,this.o5=this.o3,this.o3=a,a=this.o6,this.o6=this.p3,this.p3=a,a=this.p8,this.p8=this.p6,this.p6=a,a=this.p7,this.p7=this.p2,this.p2=a,a=this.p4,this.p4=this.o4,this.o4=a},a8.prototype.invert=function(){var a=this._determinant4x4();return this._makeAdjoint(),this.o0/=a,this.o1/=a,this.o5/=a,this.o6/=a,this.o2/=a,this.p9/=a,this.p8/=a,this.p7/=a,this.o3/=a,this.p6/=a,this.p5/=a,this.p4/=a,this.p3/=a,this.p2/=a,this.o4/=a,this.p1/=a,!0},a8.prototype.linearlyIndependant=function(){var a=this._determinant4x4();return Math.abs(a)<1e-8?!1:!0},a8.prototype.xAxisCopy=function(){return new vec3(this.o0,this.o1,this.o5)},a8.prototype.yAxisCopy=function(){return new vec3(this.o2,this.p9,this.p8)},a8.prototype.zAxisCopy=function(){return new vec3(this.o3,this.p6,this.p5)},a8.prototype.wAxisCopy=function(){return new vec3(this.p3,this.p2,this.o4)},a8.prototype.setXAxis=function(a){this.o0=a.x,this.o1=a.y,this.o5=a.z},a8.prototype.setYAxis=function(a){this.o2=a.x,this.p9=a.y,this.p8=a.z},a8.prototype.setZAxis=function(a){this.o3=a.x,this.p6=a.y,this.p5=a.z},a8.prototype.setWAxis=function(a){this.p3=a.x,this.p2=a.y,this.o4=a.z},a8.prototype.translate=function(a,b,c){void 0==a&&(a=0),void 0==b&&(b=0),void 0==c&&(c=0);var d=new a8;d.p3=a,d.p2=b,d.o4=c,this.multRight(d)},a8.prototype.scale=function(a,b,c){void 0==a&&(a=1),void 0==c?void 0==b?(b=a,c=a):c=1:void 0==b&&(b=a);var d=new a8;d.o0=a,d.p9=b,d.p5=c,this.multRight(d)},a8.prototype.rotate=function(a,b,c,d){a=a/180*Math.PI,a/=2;var e=Math.sin(a),f=Math.cos(a),g=e*e,h=Math.sqrt(b*b+c*c+d*d);0==h?(b=0,c=0,d=1):1!=h&&(b/=h,c/=h,d/=h);var i=new a8;if(1==b&&0==c&&0==d)i.o0=1,i.o1=0,i.o5=0,i.o2=0,i.p9=1-2*g,i.p8=2*e*f,i.o3=0,i.p6=-2*e*f,i.p5=1-2*g,i.o6=i.p7=i.p4=0,i.p3=i.p2=i.o4=0,i.p1=1;else if(0==b&&1==c&&0==d)i.o0=1-2*g,i.o1=0,i.o5=-2*e*f,i.o2=0,i.p9=1,i.p8=0,i.o3=2*e*f,i.p6=0,i.p5=1-2*g,i.o6=i.p7=i.p4=0,i.p3=i.p2=i.o4=0,i.p1=1;else if(0==b&&0==c&&1==d)i.o0=1-2*g,i.o1=2*e*f,i.o5=0,i.o2=-2*e*f,i.p9=1-2*g,i.p8=0,i.o3=0,i.p6=0,i.p5=1,i.o6=i.p7=i.p4=0,i.p3=i.p2=i.o4=0,i.p1=1;else{var j=b*b,k=c*c,l=d*d;i.o0=1-2*(k+l)*g,i.o1=2*(b*c*g+d*e*f),i.o5=2*(b*d*g-c*e*f),i.o2=2*(c*b*g-d*e*f),i.p9=1-2*(l+j)*g,i.p8=2*(c*d*g+b*e*f),i.o3=2*(d*b*g+c*e*f),i.p6=2*(d*c*g-b*e*f),i.p5=1-2*(j+k)*g,i.o6=i.p7=i.p4=0,i.p3=i.p2=i.o4=0,i.p1=1}this.multRight(i)},a8.prototype.makeRotationX=function(a){var b=Math.sin(a),c=Math.cos(a);this.o0=1,this.o2=0,this.o3=0,this.p3=0,this.o1=0,this.p9=c,this.p6=b,this.p2=0,this.o5=0,this.p8=-b,this.p5=c,this.o4=0,this.o6=0,this.p7=0,this.p4=0,this.p1=1},a8.prototype.makeRotationY=function(a){new a8;var c=Math.sin(a),d=Math.cos(a);this.o0=d,this.o2=0,this.o3=-c,this.p3=0,this.o1=0,this.p9=1,this.p6=0,this.p2=0,this.o5=c,this.p8=0,this.p5=d,this.o4=0,this.o6=0,this.p7=0,this.p4=0,this.p1=1},a8.prototype.makeRotationZ=function(a){new a8;var c=Math.sin(a),d=Math.cos(a);this.o0=d,this.o2=c,this.o3=0,this.p3=0,this.o1=-c,this.p9=d,this.p6=0,this.p2=0,this.o5=0,this.p8=0,this.p5=1,this.o4=0,this.o6=0,this.p7=0,this.p4=0,this.p1=1},a8.prototype.multRight=function(a){var b=this.o0*a.o0+this.o1*a.o2+this.o5*a.o3+this.o6*a.p3,c=this.o0*a.o1+this.o1*a.p9+this.o5*a.p6+this.o6*a.p2,d=this.o0*a.o5+this.o1*a.p8+this.o5*a.p5+this.o6*a.o4,e=this.o0*a.o6+this.o1*a.p7+this.o5*a.p4+this.o6*a.p1,f=this.o2*a.o0+this.p9*a.o2+this.p8*a.o3+this.p7*a.p3,g=this.o2*a.o1+this.p9*a.p9+this.p8*a.p6+this.p7*a.p2,h=this.o2*a.o5+this.p9*a.p8+this.p8*a.p5+this.p7*a.o4,i=this.o2*a.o6+this.p9*a.p7+this.p8*a.p4+this.p7*a.p1,j=this.o3*a.o0+this.p6*a.o2+this.p5*a.o3+this.p4*a.p3,k=this.o3*a.o1+this.p6*a.p9+this.p5*a.p6+this.p4*a.p2,l=this.o3*a.o5+this.p6*a.p8+this.p5*a.p5+this.p4*a.o4,m=this.o3*a.o6+this.p6*a.p7+this.p5*a.p4+this.p4*a.p1,n=this.p3*a.o0+this.p2*a.o2+this.o4*a.o3+this.p1*a.p3,o=this.p3*a.o1+this.p2*a.p9+this.o4*a.p6+this.p1*a.p2,p=this.p3*a.o5+this.p2*a.p8+this.o4*a.p5+this.p1*a.o4,q=this.p3*a.o6+this.p2*a.p7+this.o4*a.p4+this.p1*a.p1;this.o0=b,this.o1=c,this.o5=d,this.o6=e,this.o2=f,this.p9=g,this.p8=h,this.p7=i,this.o3=j,this.p6=k,this.p5=l,this.p4=m,this.p3=n,this.p2=o,this.o4=p,this.p1=q},a8.prototype.multLeft=function(a){var b=a.o0*this.o0+a.o1*this.o2+a.o5*this.o3+a.o6*this.p3,c=a.o0*this.o1+a.o1*this.p9+a.o5*this.p6+a.o6*this.p2,d=a.o0*this.o5+a.o1*this.p8+a.o5*this.p5+a.o6*this.o4,e=a.o0*this.o6+a.o1*this.p7+a.o5*this.p4+a.o6*this.p1,f=a.o2*this.o0+a.p9*this.o2+a.p8*this.o3+a.p7*this.p3,g=a.o2*this.o1+a.p9*this.p9+a.p8*this.p6+a.p7*this.p2,h=a.o2*this.o5+a.p9*this.p8+a.p8*this.p5+a.p7*this.o4,i=a.o2*this.o6+a.p9*this.p7+a.p8*this.p4+a.p7*this.p1,j=a.o3*this.o0+a.p6*this.o2+a.p5*this.o3+a.p4*this.p3,k=a.o3*this.o1+a.p6*this.p9+a.p5*this.p6+a.p4*this.p2,l=a.o3*this.o5+a.p6*this.p8+a.p5*this.p5+a.p4*this.o4,m=a.o3*this.o6+a.p6*this.p7+a.p5*this.p4+a.p4*this.p1,n=a.p3*this.o0+a.p2*this.o2+a.o4*this.o3+a.p1*this.p3,o=a.p3*this.o1+a.p2*this.p9+a.o4*this.p6+a.p1*this.p2,p=a.p3*this.o5+a.p2*this.p8+a.o4*this.p5+a.p1*this.o4,q=a.p3*this.o6+a.p2*this.p7+a.o4*this.p4+a.p1*this.p1;
this.o0=b,this.o1=c,this.o5=d,this.o6=e,this.o2=f,this.p9=g,this.p8=h,this.p7=i,this.o3=j,this.p6=k,this.p5=l,this.p4=m,this.p3=n,this.p2=o,this.o4=p,this.p1=q},a8.prototype.ortho=function(a,b,c,d,e,f){var g=(a+b)/(a-b),h=(d+c)/(d-c),i=(f+e)/(f-e),j=new a8;j.o0=2/(a-b),j.o1=0,j.o5=0,j.o6=0,j.o2=0,j.p9=2/(d-c),j.p8=0,j.p7=0,j.o3=0,j.p6=0,j.p5=-2/(f-e),j.p4=0,j.p3=g,j.p2=h,j.o4=i,j.p1=1,this.multRight(j)},a8.prototype.frustum=function(a,b,c,d,e,f){var g=new a8,h=(b+a)/(b-a),i=(d+c)/(d-c),j=-(f+e)/(f-e),k=-(2*f*e)/(f-e);g.o0=2*e/(b-a),g.o1=0,g.o5=0,g.o6=0,g.o2=0,g.p9=2*e/(d-c),g.p8=0,g.p7=0,g.o3=h,g.p6=i,g.p5=j,g.p4=-1,g.p3=0,g.p2=0,g.o4=k,g.p1=0,this.multRight(g)},a8.prototype.a110ective=function(a,b,c,d){var e=Math.tan(a*Math.PI/360)*c,f=-e,g=b*f,h=b*e;this.frustum(g,h,f,e,c,d)},a8.prototype.veclookat=function(a,b,c){this.lookat(a.x,a.y,a.z,b.x,b.y,b.z,c.x,c.y,c.z)},a8.prototype.lookat=function(a,b,c,d,e,f,g,h,i){var j=new a8,k=a-d,l=b-e,m=c-f,n=Math.sqrt(k*k+l*l+m*m);n&&(k/=n,l/=n,m/=n);var o=g,p=h,q=i;xx=p*m-q*l,xy=-o*m+q*k,xz=o*l-p*k,o=l*xz-m*xy,p=-k*xz+m*xx,o=k*xy-l*xx,n=Math.sqrt(xx*xx+xy*xy+xz*xz),n&&(xx/=n,xy/=n,xz/=n),n=Math.sqrt(o*o+p*p+q*q),n&&(o/=n,p/=n,q/=n),j.o0=xx,j.o1=xy,j.o5=xz,j.o6=0,j.o2=o,j.p9=p,j.p8=q,j.p7=0,j.o3=k,j.p6=l,j.p5=m,j.p4=0,j.p3=0,j.p2=0,j.o4=0,j.p1=1,j.translate(-a,-b,-c),this.multRight(j)},a8.prototype._determinant2x2=function(a,b,c,d){return a*d-b*c},a8.prototype._determinant3x3=function(a,b,c,d,e,f,g,h,i){return a*this._determinant2x2(e,f,h,i)-d*this._determinant2x2(b,c,h,i)+g*this._determinant2x2(b,c,e,f)},a8.prototype._determinant4x4=function(){var a=this.o0,b=this.o1,c=this.o5,d=this.o6,e=this.o2,f=this.p9,g=this.p8,h=this.p7,i=this.o3,j=this.p6,k=this.p5,l=this.p4,m=this.p3,n=this.p2,o=this.o4,p=this.p1;return a*this._determinant3x3(f,j,n,g,k,o,h,l,p)-b*this._determinant3x3(e,i,m,g,k,o,h,l,p)+c*this._determinant3x3(e,i,m,f,j,n,h,l,p)-d*this._determinant3x3(e,i,m,f,j,n,g,k,o)},a8.prototype._makeAdjoint=function(){var a=this.o0,b=this.o1,c=this.o5,d=this.o6,e=this.o2,f=this.p9,g=this.p8,h=this.p7,i=this.o3,j=this.p6,k=this.p5,l=this.p4,m=this.p3,n=this.p2,o=this.o4,p=this.p1;this.o0=this._determinant3x3(f,j,n,g,k,o,h,l,p),this.o2=-this._determinant3x3(e,i,m,g,k,o,h,l,p),this.o3=this._determinant3x3(e,i,m,f,j,n,h,l,p),this.p3=-this._determinant3x3(e,i,m,f,j,n,g,k,o),this.o1=-this._determinant3x3(b,j,n,c,k,o,d,l,p),this.p9=this._determinant3x3(a,i,m,c,k,o,d,l,p),this.p6=-this._determinant3x3(a,i,m,b,j,n,d,l,p),this.p2=this._determinant3x3(a,i,m,b,j,n,c,k,o),this.o5=this._determinant3x3(b,f,n,c,g,o,d,h,p),this.p8=-this._determinant3x3(a,e,m,c,g,o,d,h,p),this.p5=this._determinant3x3(a,e,m,b,f,n,d,h,p),this.o4=-this._determinant3x3(a,e,m,b,f,n,c,g,o),this.o6=-this._determinant3x3(b,f,j,c,g,k,d,h,l),this.p7=this._determinant3x3(a,e,i,c,g,k,d,h,l),this.p4=-this._determinant3x3(a,e,i,b,f,j,d,h,l),this.p1=this._determinant3x3(a,e,i,b,f,j,c,g,k)},a8.prototype.vectorMultLeft=function(a){return out=new vec4(0,0,0,0),out.x=a.x*this.o0+a.y*this.o2+a.z*this.o3+a.w*this.p3,out.y=a.x*this.o1+a.y*this.p9+a.z*this.p6+a.w*this.p2,out.z=a.x*this.o5+a.y*this.p8+a.z*this.p5+a.w*this.o4,out.w=a.x*this.o6+a.y*this.p7+a.z*this.p4+a.w*this.p1,out},a8.prototype.vectorMultRight=function(a){return out=new vec4(0,0,0,0),out.x=a.x*this.o0+a.y*this.o1+a.z*this.o5+a.w*this.o6,out.y=a.x*this.o2+a.y*this.p9+a.z*this.p8+a.w*this.p7,out.z=a.x*this.o3+a.y*this.p6+a.z*this.p5+a.w*this.p4,out.w=a.x*this.p3+a.y*this.p2+a.z*this.o4+a.w*this.p1,out},a1=function(a){this.MaxAccept=a,this.a16_3=100,this.a191a58=0,this.a912a58=0},a1.prototype.z7a58=function(a){this.Totala58=a,this.a16_3=this.MaxAccept/a},a1.prototype.a16_4a16_3=function(){return this.a16_3},a1.prototype.n7a16_3=function(a){this.a16_3=a},a1.prototype.a45=function(){this.a191a58=0,this.a912a58=0},a1.prototype.z4=function(){return Math.random()<this.a16_3?(++this.a191a58,1):(++this.a912a58,0)},a1.prototype.a16_4a191a58=function(){return this.a191a58},a5=function(){this.a21=new Array,this.Pointa34=new Array,this.a34=new Array,this.a19=new Array,this.a20=new Array,this.a22=-Number.MAX_VALUE,this.a23=Number.MAX_VALUE,this.a24=Number.MAX_VALUE,this.a25=-Number.MAX_VALUE,this.a26=Number.MAX_VALUE,this.a27=-Number.MAX_VALUE,this.a28=Number.MAX_VALUE,this.a29=-Number.MAX_VALUE,this.a31,this.a32,this.a33,this.a30},a5.prototype.Clear=function(){this.a21.length=0,this.a34.length=0,this.a19.length=0,this.a20.length=0,this.a22=-Number.MAX_VALUE,this.a23=Number.MAX_VALUE,this.a24=Number.MAX_VALUE,this.a25=-Number.MAX_VALUE,this.a26=Number.MAX_VALUE,this.a27=-Number.MAX_VALUE,this.a28=Number.MAX_VALUE,this.a29=-Number.MAX_VALUE,this.a31,this.a32,this.a33,this.WebGL_a21=null,this.WebGL_Colors=null},a5.prototype.t2=function(a){1==a?this.a16_4GreyByt3():2==a?this.a16_4GreyByElevation():3==a?this.a16_4ColorByt4():4==a?this.a16_4ColorByt3():5==a?this.a16_4ColorByElevation():6==a&&this.a16_4ColorBya34()},a5.prototype.a16_4Size=function(){return this.a21.length/3},a5.prototype.a47=function(a,b,c,d,e){this.a21.push(a),this.a21.push(b),this.a21.push(c),this.a20.push(d),this.a19.push(e),this.a24=Math.min(a,this.a24),this.a26=Math.min(b,this.a26),this.a28=Math.min(c,this.a28),this.a25=Math.max(a,this.a25),this.a27=Math.max(b,this.a27),this.a29=Math.max(c,this.a29),this.a22=Math.max(d,this.a22),this.a23=Math.min(d,this.a23),this.a30=this.a22-this.a23},a5.prototype.DoneBuilding=function(){this.WebGL_a21=new Float32Array(this.a21),this.WebGL_Colors=new Uint8Array(this.a34)},a5.prototype.n7Pointa34=function(a,b,c){this.Pointa34.push(255*(a/65535)),this.Pointa34.push(255*(b/65535)),this.Pointa34.push(255*(c/65535))},a5.prototype.a16_4WebGLa21=function(){return this.WebGL_a21},a5.prototype.a16_4WebGLColors=function(){return this.WebGL_Colors},a5.prototype.a45Colors=function(){this.a31=this.a25-this.a24,this.a32=this.a27-this.a26,this.a33=this.a29-this.a28,this.a30=this.a22-this.a23,this.a34.length=0,delete this.a34,this.a34=new Array},a5.prototype.a16_4ColorBya34=function(){var a=0;this.a34.length?a=this.a34.length:this.a45Colors();for(var b=a;b<this.Pointa34.length;++b)this.a34.push(this.Pointa34[b]);this.DoneBuilding()},a5.prototype.a16_4ColorByt3=function(){var a=0;this.a34.length?a=this.a34.length/3:this.a45Colors();for(var b=a;b<this.a20.length;++b){var c=1-2*(this.a20[b]-this.a23)/this.a30;this.a34.push(255*Gett5(c)),this.a34.push(255*Gett6(c)),this.a34.push(255*Gett7(c))}this.a20&&this.a20.length||this.a16_4ColorByElevation(),this.DoneBuilding()},a5.prototype.a16_4ColorByElevation=function(){var a=0;this.a34.length?a=this.a34.length:this.a45Colors();for(var b=a+2;b<this.a21.length;b+=3){var c=1-2*(this.a21[b]-this.a28)/this.a33;this.a34.push(255*Gett5(c)),this.a34.push(255*Gett6(c)),this.a34.push(255*Gett7(c))}this.DoneBuilding()},a5.prototype.a16_4GreyByt3=function(){var a=0;this.a34.length?a=this.a34.length/3:this.a45Colors();for(var b=a;b<this.a20.length;++b){var c=255*(this.a20[b]-this.a23)/this.a30;this.a34.push(c),this.a34.push(c),this.a34.push(c)}this.a20&&this.a20.length||this.a16_4GreyByElevation(),this.DoneBuilding()},a5.prototype.a16_4GreyByElevation=function(){var a=0;this.a34.length?a=this.a34.length:this.a45Colors();for(var b=a+2;b<this.a21.length;b+=3){var c=255*(this.a21[b]-this.a28)/this.a33;this.a34.push(c),this.a34.push(c),this.a34.push(c)}this.DoneBuilding()},a5.prototype.a16_4ColorByt4=function(){var a=0;this.a34.length?a=this.a34.length/3:this.a45Colors();for(var b=a;b<this.a19.length;++b){var c=1-2*this.a19[b]/30;this.a34.push(255*Gett5(c)),this.a34.push(255*Gett6(c)),this.a34.push(255*Gett7(c))}this.DoneBuilding()},a5.prototype.a16_4ColorsBya34=function(){return this.a34},a5.prototype.a16_4a31=function(){return this.a25-this.a24},a5.prototype.a16_4a32=function(){return this.a27-this.a26},a5.prototype.a16_4a33=function(){return this.a29-this.a28},a5.prototype.a16_4a24=function(){return this.a24},a5.prototype.a16_4a26=function(){return this.a26},a5.prototype.a16_4a28=function(){return this.a28},a5.prototype.a16_4a25=function(){return this.a25},a5.prototype.a16_4a27=function(){return this.a27},a5.prototype.a16_4a29=function(){return this.a29},a7=function(){this.a35=new a5},a7.prototype.a16_4a35=function(){return this.a35},a7.prototype.w1=function(a,b){this.a35.Clear();var c=0,d=100,e=c,f=d*a,g=c,h=d*b;for(i=e;f>=i;i+=1)this.a35.a47(c,i,g,255,0),this.a35.a47(c,i,h,255,0),this.a35.a47(d,i,g,255,0),this.a35.a47(d,i,h,255,0);for(i=c;d>=i;i+=1)this.a35.a47(i,e,g,255,0),this.a35.a47(i,e,h,255,0),this.a35.a47(i,f,g,255,0),this.a35.a47(i,f,h,255,0);for(i=g;h>=i;i+=1)this.a35.a47(d,e,i,255,0),this.a35.a47(c,e,i,255,0),this.a35.a47(d,f,i,255,0),this.a35.a47(c,f,i,255,0)},a6=function(){this.RoiSize=0,this.roi=new a5,this.Filea58,this.Ratio},a6.prototype.a45=function(a,b){this.RoiSize=b,this.Filea58=a,this.Ratio=this.RoiSize/a},a6.prototype.a16_4Size=function(){return this.roi.a16_4Size()},a6.prototype.a46=function(a,b,c,d,e,f,g,h){return Math.random()<this.Ratio?(this.roi.a47(a,b,c,d,e),f&&this.roi.n7Pointa34(f,g,h),1):0},a6.prototype.a16_4a35=function(){return this.roi},a2=function(a){if(this.Canvas=a,this.PointSize=1,this.a40=0,this.a41=0,this.a42=0,this.Pitch=0,this.Yaw=0,this.Roll=0,this.a24=0,this.a25=0,this.a26=0,this.a27=0,this.a28=0,this.a29=0,this.a31=0,this.a32=0,this.a33=0,this.Perspective=50,this.Width=a.width,this.Height=a.height,this.Depth=a.height,this.a39=new a8,this.View=new a8,this.EyeX=0,this.EyeY=0,this.EyeZ=0,this.Proj=new a8,this.x4=new a8,this.Last=null,this.a35=null,this.gl=this.Canvas.getContext("webgl",{preserveDrawingBuffer:!0})||this.Canvas.getContext("experimental-webgl",{preserveDrawingBuffer:!0}),!this.gl)return alert("Cannot initialize WebGL"),void 0;var b="precision lowp float; attribute vec3 pos;attribute vec3 col;varying vec4 v_color;uniform mat4 FinMat;uniform int Psz;void main() { gl_Position = FinMat * vec4(pos, 1.0); gl_Position.x /=gl_Position.w; gl_Position.y /=gl_Position.w; gl_Position.z /=gl_Position.w; gl_Position.w=1.0; gl_PointSize = float(Psz); v_color = vec4(col,255);}",c="precision lowp float; varying vec4 v_color;void main() { gl_FragColor = v_color; }";this.Program=createProgram(this.gl,b,c),this.gl.useProgram(this.Program)},a2.prototype.n7a35=function(a){this.a35=a},a2.prototype.a16_4a35=function(){return this.a35},a2.prototype.t1=function(){this.gla58Buffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.gla58Buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.a35.a16_4WebGLa21(),this.gl.STATIC_DRAW),this.Program.vertexPosAttrib=this.gl.getAttribLocation(this.Program,"pos"),this.gl.enableVertexAttribArray(this.Program.vertexPosAttrib),this.gl.vertexAttribPointer(this.Program.vertexPosAttrib,3,this.gl.FLOAT,!1,0,0),this.glColorsBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.glColorsBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.a35.a16_4WebGLColors(),this.gl.STATIC_DRAW),this.Program.vertexColAttrib=this.gl.getAttribLocation(this.Program,"col"),this.gl.enableVertexAttribArray(this.Program.vertexColAttrib),this.gl.vertexAttribPointer(this.Program.vertexColAttrib,3,this.gl.UNSIGNED_BYTE,!0,0,0),this.gl.uniform1i(this.gl.getUniformLocation(this.Program,"Psz"),this.PointSize),this.t5raw()},a2.prototype.t5raw=function(){this.Clear(),this.Show()},a2.prototype.w4=function(a){this.PointSize=a},a2.prototype.n7a39w3=function(a,b,c,d,e,f){return this.a24=a,this.a25=b,this.a26=c,this.a27=d,this.a28=e,this.a29=f,this.a31=b-a,this.a32=d-c,this.a33=f-e,maxspan=this.a31,this.a32>maxspan&&(maxspan=this.a32),this.a33>maxspan&&(maxspan=this.a33),this.a39=new a8,this.a39.o0=1/maxspan,this.a39.o6=-.5*(this.a24+this.a25)/maxspan,this.a39.p9=1/maxspan,this.a39.p7=-.5*(this.a26+this.a27)/maxspan,this.a39.p5=1/maxspan,this.a39.p4=-.5*(this.a28+this.a29)/maxspan,0==this.EyeZ&&(this.EyeX=0,this.EyeY=0,this.EyeZ=this.a39.p4),this.gl?void 0:(alert("Cannot initialize(2) WebGL"),void 0)},a2.prototype.n7Roll=function(a){this.Roll=a},a2.prototype.n7a025=function(a){this.a025=a},a2.prototype.n7PitchYaw=function(a,b){this.Yaw=a,this.Pitch=b},a2.prototype.w5=function(a,b,c){this.a40=a,this.a41=b,this.a42=c},a2.prototype.n7x5=function(){},a2.prototype.n7Translate=function(a,b){this.x4.o6=.1*a,this.x4.p7=.1*b},a2.prototype.w7=function(a){this.Perspective=a},a2.prototype.Clear=function(){this.a35&&this.n7a39w3(this.a35.a16_4a24(),this.a35.a16_4a25(),this.a35.a16_4a26(),this.a35.a16_4a27(),this.a35.a16_4a28(),this.a35.a16_4a29()),this.Proj=this.v1(),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT)},a2.prototype.Show=function(){this.Last=this.Proj;var a=this.gl.getUniformLocation(this.Program,"FinMat"),b=new a8(this.Proj);b.transpose(),this.gl.uniformMatrix4fv(a,!1,b.getAsWebGLFloatArray()),this.gl.drawArrays(this.gl.POINTS,0,this.a35.a16_4Size())},a2.prototype.n7Viewport=function(a,b){this.Width=a,this.Height=b},a2.prototype.ApplyRotations=function(){var a=new a8;a.o0=Math.cos(this.a42),a.o1=-Math.sin(this.a42),a.o2=Math.sin(this.a42),a.p9=Math.cos(this.a42);var b=new a8;b.o0=Math.cos(this.a41),b.o5=Math.sin(this.a41),b.o3=-Math.sin(this.a41),b.p5=Math.cos(this.a41),b.multRight(a);var c=new a8;c.p9=Math.cos(this.a40),c.p8=-Math.sin(this.a40),c.p6=Math.sin(this.a40),c.p5=Math.cos(this.a40),c.multRight(b),this.a39.multLeft(c)},cross_prod=function(a,b,c,d,e,f){var g=e*c-f*b,h=-d*c+f*a,i=d*b-e*a;return new Array(g,h,i)},dot_prod=function(a,b,c,d,e,f){return a*d+b*e+c*f},normalize=function(a,b,c){var d=Math.sqrt(a*a+b*b+c*c);return new Array(a/d,b/d,c/d)},rotate_mat=function(a,b,c,d){var e=Math.cos(a),f=Math.sin(a),g=b*b,h=c*c,i=d*d,j=new a8;return j.o0=e+g*(1-e),j.o1=b*c*(1-e)-d*f,j.o5=b*d*(1-e)+c*f,j.o2=c*b*(1-e)+d*f,j.p9=e+h*(1-e),j.p8=c*d*(1-e)-b*f,j.o3=d*b*(1-e)-c*f,j.p6=d*c*(1-e)+b*f,j.p5=e+i*(1-e),j},a2.prototype.Applya56Strafe=function(){this.View.o6=0,this.View.p7=0,this.View.p4=0;var a=new a8;a.rotate(5*this.Pitch,0,1,0),this.View.multLeft(a);var b=new a8;b.rotate(5*this.Yaw,1,0,0),this.View.multLeft(b);var c=new a8;c.rotate(5*this.Roll,0,0,1),this.View.multLeft(c);var d=this.a025;this.EyeX+=this.x4.o6*this.View.o0+this.x4.p7*this.View.o2+d*this.View.o3,this.EyeY+=this.x4.o6*this.View.o1+this.x4.p7*this.View.p9+d*this.View.p6,this.EyeZ+=this.x4.o6*this.View.o5+this.x4.p7*this.View.p8+d*this.View.p5,this.View.o6=-dot_prod(this.View.o0,this.View.o1,this.View.o5,this.EyeX,this.EyeY,this.EyeZ),this.View.p7=-dot_prod(this.View.o2,this.View.p9,this.View.p8,this.EyeX,this.EyeY,this.EyeZ),this.View.p4=-dot_prod(this.View.o3,this.View.p6,this.View.p5,this.EyeX,this.EyeY,this.EyeZ),this.Yaw=0,this.Pitch=0,this.Roll=0,this.x4.o6=0,this.x4.p7=0},a2.prototype.v1=function(){this.ApplyRotations(),this.Applya56Strafe();var a=new a8;a.a110ective(this.Perspective,1,1.001,1e3);var b=new a8;return b.load(this.a39),b.multLeft(this.View),b.multLeft(a),b},a18=function(){this.anglex=0,this.angley=0,this.anglez=0,this.aq13=0,this.a742=0,this.a192=0,this.a110=50,this.ratioy=1.5,this.ratioz=.2,this.Pitch=0,this.Yaw=0,this.Roll=0,this.a55,this.w10=0,a18.prototype.n7a55=function(a){this.a55=a},a18.prototype.w8=function(){this.w10=1},a18.prototype.w9=function(){this.w10=0},a18.prototype.w5=function(a,b,c){this.anglex=a,this.angley=b,this.anglez=c},a18.prototype.n7Roll=function(a){this.Roll=a},a18.prototype.n7PitchYaw=function(a,b){this.Yaw=a,this.Pitch=b},a18.prototype.a16_4a40=function(){return this.anglex},a18.prototype.a16_4a41=function(){return this.angley},a18.prototype.a16_4a42=function(){return this.anglez},a18.prototype.n7a025=function(a){this.a192=a},a18.prototype.a16_4a025=function(){return this.a192},a18.prototype.n7x4=function(a,b){this.aq13=a,this.a742=b},a18.prototype.a16_4x4X=function(){return this.aq13},a18.prototype.a16_4x4Y=function(){return this.a742},a18.prototype.a16_4Perspective=function(){return this.a110},a18.prototype.w7=function(a){this.a110=a}},a56=function(){this.canvas,this.tool,this.imgdata,this.pixels,this.a57=new a18},a56.prototype.a48=function(){return this.a57},a56.prototype.w5=function(a,b,c){this.a57.anglex=a,this.a57.angley=b,this.a57.anglez=c,this.tool.anglex=this.a57.anglex,this.tool.angley=this.a57.angley,this.tool.anglez=this.a57.anglez,this.tool.b4()},a56.prototype.n7a025=function(a){this.a57.a192=a,this.tool.a192=this.a57.a192,this.tool.b4()},a56.prototype.w7=function(a){this.a57.a110=a,this.tool.a110=this.a57.a110,this.tool.b4()},a56.prototype.n7x4=function(a,b){this.a57.aq13=a,this.a57.a742=b,this.tool.aq13=this.a57.aq13,this.tool.a742=this.a57.a742,this.tool.b4()},a56.prototype.a45=function(a){function b(a){a.preventDefault(),a.layerX||0==a.layerX?(a._x=a.layerX,a._y=a.layerY):(a.offsetX||0==a.offsetX)&&(a._x=a.offsetX,a._y=a.offsetY);var b=a.target.tool,c=b[a.type];c&&c(a,b)}this.canvas=a,this.tool=new b3(this),this.canvas.tool=this.tool,this.canvas.addEventListener("mousedown",b,!1),this.canvas.addEventListener("mousemove",b,!1),this.canvas.addEventListener("mouseup",b,!1),this.canvas.addEventListener("mousewheel",b,!1),this.canvas.addEventListener("DOMMouseSca03",b,!1),this.canvas.addEventListener("touchstart",b,!1),this.canvas.addEventListener("touchend",b,!1),this.canvas.addEventListener("touchmove",b,!1),this.canvas.addEventListener("keydown",b,!1),this.tool.b4()},b3=function(a){this.tool=this,this.camera=a,this.canvas=a.canvas,this.button=0,this.started=!1,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.prevx,this.prevy,this.a192=1,this.anglex=0,this.angley=0,this.anglez=0,this.aq13=0,this.a742=0,this.a110=50,this.Pitch=0,this.Yaw=0,this.Roll=0,this.mousedown=function(a,b){b2=!0,prevx=a._x,prevy=a._y,b.button=a.button,b.started=!0,b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.shiftKey=a.shiftKey},this.keydown=function(a,b){81==a.keyCode&&(b.a742=.1),69==a.keyCode&&(b.a742=-.1),87==a.keyCode&&(b.a192=-.1),83==a.keyCode&&(b.a192=.1),65==a.keyCode&&(b.aq13=-.1),68==a.keyCode&&(b.aq13=.1),b.b4()},this.touchmove=function(a,b){return this.mousemove(a,b)},this.touchstart=function(a,b){return this.mousedown(a,b)},this.touchend=function(a,b){return this.mouseup(a,b)},this.mousemove=function(a,b){if(a.x||(a.x=a._x,a.y=a._y),b.started){if(!b.prevx)return b.prevx=a.x,b.prevy=a.y,void 0;var c=b.prevx-a.x,d=b.prevy-a.y,e=0,f=0;return c>0?(c=.05,e=1):0>c&&(c=-.05,e=-1),d>0&&(d=.05,f=1),0>d&&(d=-.05,f=-1),!b.started||0!=b.button||b.shiftKey||b.ctrlKey||b.altKey?!b.started||2!=b.button||b.shiftKey||b.ctrlKey||b.altKey?b.started&&b.shiftKey&&!b.altKey&&!b.ctrlKey?(b.angley+=.1*c,b.anglex+=.1*d):b.started&&!b.altKey&&b.ctrlKey?b.anglez+=.1*c:b.started&&b.altKey&&!b.ctrlKey?(b.aq13=-.05*e,b.a742=.05*f):b.started&&b.altKey&&b.ctrlKey:(b.Roll=c,b.a192=-d/10):(b.Yaw=c,b.Pitch=d),b.started?(b.prevx=a.x,b.prevy=a.y,b.b4()):void 0}},this.mouseup=function(a,b){b.started&&(b2=!1,b.mousemove(a,b),b.started=!1)},this.mousewheel=function(a,b){a.wheelDelta<0?b.a110<150&&(b.a110+=b.a110/10):a.wheelDelta>0&&b.a110>10&&(b.a110-=b.a110/10),b.b4()}},b3.prototype.b4=function(){var a=this.canvas.width;a>this.canvas.height&&(a=this.canvas.height),this.camera.a57.n7Roll(this.tool.Roll),this.camera.a57.n7PitchYaw(this.tool.Pitch,this.tool.Yaw),this.camera.a57.w5(this.tool.anglex,this.tool.angley,this.tool.anglez),this.camera.a57.n7a025(this.tool.a192),this.camera.a57.n7x4(this.tool.aq13,this.tool.a742),this.camera.a57.w7(this.tool.a110),this.camera.a57.a55.n7Roll(this.tool.Roll),this.camera.a57.a55.n7PitchYaw(this.tool.Pitch,this.tool.Yaw),this.camera.a57.a55.w5(this.tool.anglex,this.tool.angley,this.tool.anglez),this.camera.a57.a55.n7a025(this.tool.a192),this.camera.a57.a55.n7Translate(this.tool.aq13,this.tool.a742),this.camera.a57.a55.w7(this.tool.a110),this.camera.a57.a55.t5raw(),this.tool.a192=0,this.tool.aq13=0,this.tool.a742=0},a3=function(a,b,c){this.Table=a,this.z3=b,this.a59=c,this.a4=null},a3.prototype.a45=function(a){this.a4=a},a3.prototype.z2=function(a){var c,b=!0;try{this.a3.a4=new a12(a)}catch(d){b=!1}for(c=b?this.a3.a4.print():new Object,c["File size"]=GetFileSize(this.a3.a59.file.size);this.a3.Table.rows.length>1;)this.a3.Table.deleteRow(1);tBody=this.a3.Table.tBodies[0];for(var e in c){var f=c[e];row=document.createElement("TR"),cell1=document.createElement("TD"),cell2=document.createElement("TD"),textnode1=document.createTextNode(e),textnode2=document.createTextNode(f),cell1.appendChild(textnode1),cell2.appendChild(textnode2),row.appendChild(cell1),row.appendChild(cell2),tBody.appendChild(row)}this.a3.z3(this.a3.a4)},a17=function(a,b,c,d,e,f){this.z3=e,this.OnChunkDone=d,this.OnPointDone=c,this.OnHeaderDone=b,this.a1=f,this.a61=3e4,this.a59=a,this.a4,this.a37,this.a38,this.a4=null,this.z5},a17.prototype.z8=function(){return Math.round(100*(this.a37/this.a59.file.size))},a17.prototype.a45=function(a){this.a4=a,this.a1.z7a58(this.a4.w2.a60.x1a58)},a17.prototype.a43=function(a){if(!a&&this.a17.z3)return this.a17.z3(this.a17);var b=0;for(b=0;b<a.length;b+=this.a4.w2.a60.x3)if(++this.z5,this.a17.a1.z4()){var c=a.substr(b,this.a4.w2.a60.x3);this.a17.a44(c)}if(delete a,a=null,this.a17.OnChunkDone&&this.a17.OnChunkDone(this.a17),this.a17.a37<this.a17.a59.file.size)this.a17.a37+=this.a17.a61*this.a17.a4.w2.a60.x3,this.a17.a38+=this.a17.a61*this.a17.a4.w2.a60.x3,this.a17.a38>=this.a17.a59.file.size&&(this.a17.a38=this.a17.a59.file.size),this.a17.a59.a49(this.a17.a37,this.a17.a38);else if(this.a17.z3)return this.a17.z3(this.a17)},a17.prototype.a44=function(a){var b;0==this.a4.w2.a60.x2?b=new a13(a):1==this.a4.w2.a60.x2?b=new a14(a):2==this.a4.w2.a60.x2?b=new a15(a):3==this.a4.w2.a60.x2&&(b=new a16(a)),this.OnPointDone(b,this.a17),delete b,b=null},a17.prototype.ParseHeader=function(a){this.a17.z5=0,this.a17.a4=new a12(a),this.a4=this.a17.a4,this.a17.a45(this.a17.a4),this.a17.OnHeaderDone&&this.a17.OnHeaderDone(this.a17.a4),this.a17.a37=this.a4.w2.a60.x4ToPointData,this.a17.a38=this.a17.a37+this.a17.a61*this.a4.w2.a60.x3,this.n7z2(this.a17.a43),this.a49(this.a17.a37,this.a17.a38)},XYZa17=function(a,b,c,d,e,f){this.z3=e,this.OnChunkDone=d,this.OnPointDone=c,this.OnHeaderDone=b,this.a1=f,this.a61=3e5,this.a59=a,this.a4,this.a37,this.a38,this.a4=null,this.z5,this.b=!1},XYZa17.prototype.z8=function(){return Math.round(100*(this.a37/this.a59.file.size))},XYZa17.prototype.a45=function(a){this.a4=a},XYZa17.prototype.a43=function(a){var b=!1;if((!a||!a.length)&&this.a17.z3)return this.a17.z3(this.a17);var e,c=a,d=c.split(/\r\n|\r|\n/);for(!this.a17.b&&d.length&&(this.a17.b=!0,this.a17.a1.z7a58(this.a17.a59.file.size/d[0].length)),i=0;i<d.length-1;i+=1)if(this.a17.a1.z4()){e=d[i];var f=e.split(" "),g=new Object;g.w2=new Object,g.w2.X=Number.NaN,g.w2.Y=Number.NaN,g.w2.Z=Number.NaN;for(var h=-1;isNaN(g.w2.X)&&!(h>=f.length);)h++,g.w2.X=parseFloat(f[h]);for(;isNaN(g.w2.Y)&&!(h>=f.length);)h++,g.w2.Y=parseFloat(f[h]);for(;isNaN(g.w2.Z)&&!(h>=f.length);)h++,g.w2.Z=parseFloat(f[h]);isNaN(g.w2.X)||isNaN(g.w2.Y)||isNaN(g.w2.Z)||(b=!0,this.a17.OnPointDone(g,this.a17)),delete g.w2,g.w2=null,delete g,g=null}if(!this.a17.OnChunkDone||!b)return alert("File has no data in XYZ format"),void 0;if(this.a17.OnChunkDone(this.a17),delete a,a=null,this.a17.a37<this.a17.a59.file.size)this.a17.a37=this.a17.a38-d[d.length-1].length,this.a17.a38=this.a17.a37+this.a17.a61,this.a17.a38>=this.a17.a59.file.size&&(this.a17.a38=this.a17.a59.file.size),this.a17.a59.a49(this.a17.a37,this.a17.a38);else if(this.a17.z3)return this.a17.z3(this.a17)},XYZa17.prototype.ParseHeader=function(){this.a17.a45(this.a17.a4),this.a17.a37=0,this.a17.a38=this.a17.a61,this.n7z2(this.a17.a43),this.a49(this.a17.a37,this.a17.a38)};var b2=!1,x6=!0,dSpeed=.001,a16_3ProgBar=document.querySelector(".percent"),a16_3ProgBarDiv=document.getElementById("progress_bar"),a16_3LoadingProgBar=document.getElementById("load_meter_span"),a16_3Loadinga16_3sText=document.getElementById("percents_loaded"),a051,a52=document.getElementById("canvas1"),a53=document.getElementById("canvas2"),a54=document.getElementById("canvas3"),a16_3Format=document.getElementById("format"),a631=document.getElementById("coloring1"),a632=document.getElementById("coloring2"),a633=document.getElementById("coloring3"),a641=document.getElementById("pointsize1"),a642=document.getElementById("pointsize2"),a643=document.getElementById("pointsize3");a54.width=.7*window.innerWidth,a54.height=a54.width,a52.width=.25*window.innerWidth,a52.height=a52.width,a53.width=.25*window.innerWidth,a53.height=a53.width;var a551=new a2(a52),a351=new a5,a552=new a2(a53),a352=new a5,a553=new a2(a54),a353=new a5,a51=new a7,a561=new a56,a562=new a56,a563=new a56,v2=!1,urlParams;document.addEventListener("mousedown",function(a){a051=a.target},!0),document.addEventListener("keydown",function(a){if(null!=a051){var b=new CustomEvent("keydown",{detail:{keyCode:a.keyCode}});b.keyCode=a.keyCode,document.createEvent?a051.dispatchEvent(b):a051.fireEvent("on"+b.eventType,a)}},!1),function(){var a;a=function(a){a.preventDefault()},a52.addEventListener("contextmenu",a),a53.addEventListener("contextmenu",a),a54.addEventListener("contextmenu",a)}(),(window.onpopstate=function(){var a,b=/\+/g,c=/([^&=]+)=?([^&]*)/g,d=function(a){return decodeURIComponent(a.replace(b," "))},e=window.location.search.substring(1);for(urlParams={};a=c.exec(e);)urlParams[d(a[1])]=d(a[2])})(),document.getElementById("coloring1").addEventListener("change",function(){v2||(a551.a16_4a35().a45Colors(),a551.a16_4a35().t2(a631.value),a551.t1())},!1),document.getElementById("coloring2").addEventListener("change",function(){v2||(a552.a16_4a35().a45Colors(),a552.a16_4a35().t2(a632.value),a552.t1())},!1),document.getElementById("coloring3").addEventListener("change",function(){v2||(a553.a16_4a35().a45Colors(),a553.a16_4a35().t2(a633.value),a553.t1())},!1),document.getElementById("pointsize1").addEventListener("change",function(){v2||(a551.w4(a641.value),a551.t1())},!1),document.getElementById("pointsize2").addEventListener("change",function(){v2||(a552.w4(a642.value),a552.t1())},!1),document.getElementById("pointsize3").addEventListener("change",function(){v2||(a553.w4(a643.value),a553.t1())},!1),document.getElementById("render").addEventListener("click",function(){if(a59=new a16_1,a59.file){a351.Clear();var b="Started: "+t9(new Date);_gaq.push(["_trackEvent","Render","Start",b]),a16_3ProgBarDiv.visible=!0,a16_3ProgBarDiv.className="loading";var c=document.getElementById("bufsize").value,d=new a1(c);if(1==a16_3Format.value)var e=new a17(a59,x7,x8,z1,x9,d);else var e=new XYZa17(a59,x7,x8,z1,x9,d);a59.a17=e,a59.n7z2(e.ParseHeader),a59.a49(0,409600)}},!1),document.getElementById("ReadHeader").addEventListener("click",function(a){if("button"==a.target.tagName.toLowerCase()){var b="Pressed: "+t9(new Date);_gaq.push(["_trackEvent","Header","Start",b]),a116(null)}},!1),document.getElementById("animation").addEventListener("change",function(){x6=document.getElementById("animation").checked},!1),a50();























































































































